

users by id
  publicProfile
  server


userContacts by id


userChats by id


chatMessages by chatId
  chatId


chatMembers by chatId
  chatId


chatMetadata by chatId
  message count
  last timestamp


users /
  bob
    phone
    name
    contacts /
      alice
        inSystem true
      brian
        inSystem false
      c
    groups /
      200
      201
      202
      203
  jane
    contacts
      bob
        inSystem
        chatId undefined
  alice
    contacts /
      bob
        inSystem true
        chatId = 100

groups /
  200
    chatId 100
    isDirectChat
    members /
      member2
      member1
  201
  202


messagesByGroupId /
  100 /
    message1
    message2
    message3

  101 /
    messages /
      message1
      message2
      message3
